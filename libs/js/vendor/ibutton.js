/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
// t: current time, b: begInnIng value, c: change In value, d: duration
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){return s==undefined&&(s=1.70158),(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}}),function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(e,t){this.defaults.type=e,this.defaults.name=t},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);settings.single.length||(settings.single="metadata");var data=$.data(elem,settings.single);if(data)return data;data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);m&&(data=m[1])}else if(settings.type=="elem"){if(!elem.getElementsByTagName)return undefined;var e=elem.getElementsByTagName(settings.name);e.length&&(data=$.trim(e[0].innerHTML))}else if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);attr&&(data=attr)}return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(e){return $.metadata.get(this[0],e)}}(jQuery),function(e){e.iButton={version:"1.0.03",setDefaults:function(t){e.extend(r,t)}},e.fn.iButton=function(t){var r=typeof arguments[0]=="string"&&arguments[0],i=r&&Array.prototype.slice.call(arguments,1)||arguments,s=this.length==0?null:e.data(this[0],"iButton");if(s&&r&&this.length){if(r.toLowerCase()=="object")return s;if(s[r]){var o;return this.each(function(t){var n=e.data(this,"iButton")[r].apply(s,i);if(t==0&&n){if(!n.jquery)return o=n,!1;o=e([]).add(n)}else!!n&&!!n.jquery&&(o=o.add(n))}),o||this}return this}return this.each(function(){new n(this,t)})};var t=0,n=function(n,o){var u=this,a=e(n),f=++t,l=!1,c={},h={dragging:!1,clicked:null},p={position:null,offset:null,time:null},o=e.extend({},r,o,e.metadata?a.metadata():{}),d=o.labelOn==i&&o.labelOff==s,v=":checkbox, :radio";if(!a.is(v))return a.find(v).iButton(o);if(e.data(a[0],"iButton"))return;e.data(a[0],"iButton",u),o.resizeHandle=="auto"&&(o.resizeHandle=!d),o.resizeContainer=="auto"&&(o.resizeContainer=!d),this.toggle=function(e){var t=arguments.length>0?e:!a[0].checked;a.prop("checked",t).trigger("change")},this.disable=function(t){var n=arguments.length>0?t:!l;l=n,a.attr("disabled",n),m[n?"addClass":"removeClass"](o.classDisabled),e.isFunction(o.disable)&&o.disable.apply(u,[l,a,o])},this.repaint=function(){x()},this.destroy=function(){e([a[0],m[0]]).unbind(".iButton"),e(document).unbind(".iButton_"+f),m.after(a).remove(),e.data(a[0],"iButton",null),e.isFunction(o.destroy)&&o.destroy.apply(u,[a,o])},a.wrap('<div class="'+e.trim(o.classContainer+" "+o.className)+'" />').after('<div class="'+o.classHandle+'"><div class="'+o.classHandleRight+'"><div class="'+o.classHandleMiddle+'" /></div></div>'+'<div class="'+o.classLabelOff+'"><span><label>'+o.labelOff+"</label></span></div>"+'<div class="'+o.classLabelOn+'"><span><label>'+o.labelOn+"</label></span></div>"+'<div class="'+o.classPaddingLeft+'"></div><div class="'+o.classPaddingRight+'"></div>');var m=a.parent(),g=a.siblings("."+o.classHandle),y=a.siblings("."+o.classLabelOff),b=y.children("span"),w=a.siblings("."+o.classLabelOn),E=w.children("span");if(o.resizeHandle||o.resizeContainer)c.onspan=E.outerWidth(),c.offspan=b.outerWidth();o.resizeHandle?(o.handleWidth?c.handle=o.handleWidth:c.onspan>0?c.handle=Math.min(c.onspan,c.offspan):c.handle=c.offspan,g.css("width",c.handle)):c.handle=g.width(),o.resizeContainer?(c.container=Math.max(c.onspan,c.offspan)+c.handle+10,m.css("width",c.container),y.css("width",c.container-5)):(c.container=m.width()+3,console.log(c.container));var S=c.container-c.handle-5,x=function(e){var t=a[0].checked,n=t?S:0,e=arguments.length>0?arguments[0]:!0;e&&o.enableFx?(g.stop().animate({left:n},o.duration,o.easing),w.stop().animate({width:n+4},o.duration,o.easing),E.stop().animate({marginLeft:n-S},o.duration,o.easing),b.stop().animate({marginRight:-n},o.duration,o.easing)):(g.css("left",n),w.css("width",n+4),E.css("marginLeft",n-S),b.css("marginRight",-n))};x(!1);var T=function(e){return e.pageX||(e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:0)};m.bind("mousedown.iButton touchstart.iButton",function(t){if(e(t.target).is(v)||l||!o.allowRadioUncheck&&a.is(":radio:checked"))return;return t.preventDefault(),h.clicked=g,p.position=T(t),p.offset=p.position-(parseInt(g.css("left"),10)||0),p.time=(new Date).getTime(),!1}),o.enableDrag&&e(document).bind("mousemove.iButton_"+f+" touchmove.iButton_"+f,function(e){if(h.clicked!=g)return;e.preventDefault();var t=T(e);t!=p.offset&&(h.dragging=!0,m.addClass(o.classHandleActive));var n=Math.min(1,Math.max(0,(t-p.offset)/S));return g.css("left",n*S),w.css("width",n*S+4),b.css("marginRight",-n*S),E.css("marginLeft",-(1-n)*S),!1}),e(document).bind("mouseup.iButton_"+f+" touchend.iButton_"+f,function(t){if(h.clicked!=g)return!1;t.preventDefault();var n=!0;if(!h.dragging||(new Date).getTime()-p.time<o.clickOffset){var r=a[0].checked;a.prop("checked",!r),e.isFunction(o.click)&&o.click.apply(u,[!r,a,o])}else{var i=T(t),s=(i-p.offset)/S,r=s>=.5;a[0].checked==r&&(n=!1),a.prop("checked",r)}return m.removeClass(o.classHandleActive),h.clicked=null,h.dragging=null,n?a.trigger("change"):x(),!1}),a.bind("change.iButton",function(){x();if(a.is(":radio")){var t=a[0],n=e(t.form?t.form[t.name]:":radio[name="+t.name+"]");n.filter(":not(:checked)").iButton("repaint")}e.isFunction(o.change)&&o.change.apply(u,[a,o])}).bind("focus.iButton",function(){m.addClass(o.classFocus)}).bind("blur.iButton",function(){m.removeClass(o.classFocus)}),e.isFunction(o.click)&&a.bind("click.iButton",function(){o.click.apply(u,[a[0].checked,a,o])}),a.is(":disabled")&&this.disable(!0),e.isFunction(o.init)&&o.init.apply(u,[a,o])},r={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:!0,enableFx:!0,allowRadioUncheck:!1,clickOffset:120,handleWidth:30,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},i=r.labelOn,s=r.labelOff}(jQuery);